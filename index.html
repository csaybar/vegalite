<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Flight travels in France</title>
    <meta charset="utf-8" />
    <meta name="author" content="Cesar Aybar - csaybar" />
    <meta name="date" content="2022-01-22" />
    <script src="libs/header-attrs-2.7/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
    <script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
    <link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding-0.20/datatables.js"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
    <link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
    <script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
    <script src="libs/d3-3.5.3/./d3.min.js"></script>
    <script src="libs/vega-0.0.0/./vega.js"></script>
    <script src="libs/vega-lite-0.0.0/./vega-lite.js"></script>
    <script src="libs/vega-lite-0.0.0/./vega-embed.js"></script>
    <script src="libs/vegalite-binding-0.6.1/vegalite.js"></script>
    <link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet-1.3.1/leaflet.js"></script>
    <link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
    <script src="libs/proj4-2.6.2/proj4.min.js"></script>
    <script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
    <link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
    <script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
    <script src="libs/leaflet-providers-plugin-2.0.4.1/leaflet-providers-plugin.js"></script>
    <link href="libs/HomeButton-0.0.1/home-button.css" rel="stylesheet" />
    <script src="libs/HomeButton-0.0.1/home-button.js"></script>
    <script src="libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
    <script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
    <link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
    <link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/vega@5.21.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.2.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.20.2"></script>    
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Flight travels in France
### Cesar Aybar - csaybar
### January 22, 2022

---




## About the exercise

During this exercise, you will visualize air traffic data in France since 2010 from the DGAC. 

---

## About the data

We have two files:

--

**trajets.csv**

- APT: departure airport (ICAO code)
- ARR: arrival airport (ICAO code)
- NVOLS: number of commercial flights
- PAX_FS: number of passengers
- FSC: Beam (LC, MC, CC for Long/Medium/Short Haul)
- year
- month
- DEP_LAT: latitude of departure airport
- DEP_LONG: longitude of the departure airport
- ARR_LAT: latitude of arrival airport
- ARR_LONG: longitude of arrival airport
- date
- DEP_DEPARTEMENT: department of the departure airport
- ARR_DEPARTEMENT: department of the arrival airport

See the data interactively [here](https://gist.github.com/csaybar/dfb70ef8d9eff1bd06928744d69a9633)

---

## About the data

We have two files:

**superficiesdeps.csv**

- departement: Deparment code.
- superficie: Areas by deparment.


```r
DT::datatable(superficies[1:5,])
```

<div id="htmlwidget-93a457da0352d26f9430" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-93a457da0352d26f9430">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5"],["01","02","03","04","05"],[5785489981.298,7412183617.722,7379289107.425,6995224263.37,5690604474.696]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>departement<\/th>\n      <th>superficie<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>

---

## What is the most popular month to take a plane?

See the source code [HERE](https://gist.github.com/csaybar/dfb70ef8d9eff1bd06928744d69a9633#gistcomment-4036249).

&lt;center&gt;
<div id="htmlwidget-53a837ed93bb92864ab2" style="width:504px;height:504px;" class="vegalite html-widget"></div>
<script type="application/json" data-for="htmlwidget-53a837ed93bb92864ab2">{"x":{"description":"","data":{"values":{"month":["01","02","03","04","05","06","07","08","09","10","11","12"],"n_flights":[1713,1693,1761,1779,1884,1954,2013,1877,1912,1783,1513,1559]}},"mark":"bar","encoding":{"x":{"field":"month","type":"ordinal"},"y":{"field":"n_flights","type":"quantitative"},"color":{"field":"n_flights","type":"quantitative","scale":{"range":["#EA98D2","#659CCA"]}}},"config":{"cell":{"width":600,"height":300}},"embed":{"renderer":"canvas","actions":{"export":false,"source":false,"editor":false}}},"evals":[],"jsHooks":[]}</script>
&lt;/center&gt;
---

## How much has DEPARTURE change over the years?

See the source code [HERE](https://gist.github.com/csaybar/dfb70ef8d9eff1bd06928744d69a9633#gistcomment-4036250).

&lt;center&gt;

<div id="htmlwidget-4106c4e3a45187d3ae62" style="width:504px;height:504px;" class="vegalite html-widget"></div>
<script type="application/json" data-for="htmlwidget-4106c4e3a45187d3ae62">{"x":{"description":"","data":{"values":{"DEP":["LFPO","LFPO","LFPO","LFPO","LFPO","LFPO","LFPO","LFLL","LFLL","LFLL","LFLL","LFLL","LFLL","LFLL","LFML","LFML","LFPG","LFPG","LFMN","LFMN","LFMN","LFPG","LFMN","LFML","LFMN","LFPG","LFML","LFMN","LFMN","LFML","LFML","LFML","LFPG","LFPG","LFRS","LFPG","LFRS","LFRS","LFBO","LFRS","LFRS","LFRS","LFBO","LFRS","LFBD","LFBD","LFBD","LFBD","LFBO","LFBD","LFBD","LFBO","LFBO","LFBD","LFKJ","LFBO","LFST","LFBO","LFST","LFST","LFKJ","LFST","LFST","LFKJ","LFST","LFKJ","LFST","LFKJ","LFKJ","LFKJ"],"year":[2011,2012,2013,2014,2015,2016,2017,2012,2011,2013,2014,2015,2016,2017,2013,2012,2011,2012,2012,2013,2014,2013,2011,2014,2015,2017,2015,2017,2016,2016,2011,2017,2014,2016,2014,2015,2013,2016,2017,2015,2012,2017,2016,2011,2017,2016,2015,2013,2015,2014,2012,2013,2014,2011,2017,2012,2015,2011,2013,2014,2016,2017,2016,2013,2012,2015,2011,2014,2012,2011],"n_flights":[356,346,342,338,335,324,318,282,279,271,268,260,236,231,221,218,204,204,201,199,194,194,192,191,190,190,188,188,187,184,182,179,179,178,174,173,173,173,172,172,171,162,157,156,155,154,151,149,149,148,147,146,142,138,131,129,129,127,125,123,122,121,117,115,115,113,112,109,105,98]}},"mark":"line","encoding":{"x":{"field":"year","type":"nominal"},"y":{"field":"n_flights","type":"quantitative"},"color":{"field":"DEP","type":"nominal"}},"config":{"cell":{"width":600,"height":300}},"embed":{"renderer":"svg","actions":{"export":false,"source":false,"editor":false}}},"evals":[],"jsHooks":[]}</script>

&lt;/center&gt;
---

## Display airports


<div id="htmlwidget-acc6a7f8ab8ce2bd4300" style="width:504px;height:504px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-acc6a7f8ab8ce2bd4300">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron","CartoDB.Positron","CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter","CartoDB.DarkMatter","CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[[44.17,44.83,46.18,46.59,45.86,43.64,43.38,43.19,43.47,43.56,44.41,48.98,42.55,42.52,41.5,41.92,45.79,45.73,45.93,44.9,43.44,43.67,42.74,43.58,49.45,49.53,49.01,48.72,50.56,48.45,47.76,49.17,48.07,48.75,47.98,47.16,47.31,47.59,47.27,45.04,48.54,43.1,43.32,49.36,43.22,47.43,45.64,48.77,49.39,46.86,48.97,47.04,43.27],[0.59,-0.72,-1.2,0.31,1.18,1.37,-0.42,0.01,-1.53,2.29,2.48,6.25,9.48,8.79,9.1,8.8,3.16,5.08,6.11,2.42,5.22,7.22,2.87,3.96,2.11,0.09,2.55,2.38,3.09,-4.42,-3.44,-0.45,-1.73,-3.47,-4.17,-1.61,-2.16,7.53,5.09,1.49,7.63,6.15,3.35,0.16,2.31,0.72,5.88,4.21,1.18,1.72,2.44,5.44,6.55],6,null,"airport - n_flights",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":1,"opacity":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9],"fill":true,"fillColor":["#45246B","#008E98","#45246B","#422C70","#45246B","#008E98","#383B7A","#45246B","#31427E","#45246B","#45246B","#422C70","#006A92","#383B7A","#185086","#007696","#383B7A","#59CD65","#481B65","#45246B","#00AD8D","#00A890","#45246B","#00568A","#422C70","#481B65","#00A890","#E4E22B","#007094","#006390","#422C70","#422C70","#185086","#45246B","#45246B","#009996","#45246B","#006A92","#481B65","#45246B","#007C97","#422C70","#45246B","#481B65","#4A1160","#481B65","#4A1160","#481B65","#4A1160","#4A1160","#4A1160","#4A1160","#4A1160"],"fillOpacity":[0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6]},null,null,["<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFBA&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>  81&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>2&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFBD&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>1077&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>3&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFBH&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>  88&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>4&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFBI&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 160&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>5&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFBL&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 113&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>6&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFBO&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>1062&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>7&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFBP&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 268&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>8&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFBT&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>  87&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>9&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFBZ&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 373&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>10&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFCK&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>  80&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>11&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFCR&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>  87&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>12&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFJL&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 185&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>13&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFKB&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 684&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>14&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFKC&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 312&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>15&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFKF&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 471&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>16&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFKJ&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 812&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>17&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFLC&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 285&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>18&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFLL&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>1885&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>19&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFLP&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>  18&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>20&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFLW&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>  81&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>21&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFML&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>1408&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>22&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFMN&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>1394&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>23&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFMP&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 117&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>24&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFMT&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 497&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>25&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFOB&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 146&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>26&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFOH&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>  19&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>27&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFPG&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>1368&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>28&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFPO&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>2437&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>29&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFQQ&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 765&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>30&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFRB&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 639&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>31&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFRH&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 145&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>32&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFRK&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 161&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>33&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFRN&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 478&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>34&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFRO&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>  81&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>35&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFRQ&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>  87&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>36&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFRS&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>1213&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>37&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFRZ&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>  76&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>38&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFSB&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 696&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>39&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFSD&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>  38&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>40&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFSL&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>  84&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>41&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFST&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 867&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>42&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFTH&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td> 191&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>43&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFMU&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>  80&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>44&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFRG&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>  17&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>45&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFMK&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>  11&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>46&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFOT&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>  59&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>47&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFLB&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>   6&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>48&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFOK&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>  51&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>49&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFOP&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>   1&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>50&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFLX&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>   7&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>51&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFPB&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>   1&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>52&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LFGJ&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>   1&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>53&emsp;<\/td><\/tr><tr><td>1<\/td><th>DEP&emsp;<\/th><td>LF96&emsp;<\/td><\/tr><tr><td>2<\/td><th>n_flights&emsp;<\/th><td>   4&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["81","1077","88","160","113","1062","268","87","373","80","87","185","684","312","471","812","285","1885","18","81","1408","1394","117","497","146","19","1368","2437","765","639","145","161","478","81","87","1213","76","696","38","84","867","191","80","17","11","59","6","51","1","7","1","1","4"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[-4.42,41.5,9.48,50.56,true,"airport - n_flights","Zoom to airport - n_flights","<strong> airport - n_flights <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],"airport - n_flights",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#4B0055 , #244B84 20.4844006568145%, #008598 41.0098522167488%, #00B587 61.5353037766831%, #8DD650 82.0607553366174%, #FDE333 "],"labels":["500","1,000","1,500","2,000"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"numeric","title":"airport - n_flights","extra":{"p_1":0.204844006568144,"p_n":0.820607553366174},"layerId":null,"className":"info legend","group":"airport - n_flights"}]}],"limits":{"lat":[41.5,50.56],"lng":[-4.42,9.48]},"fitBounds":[41.5,-4.42,50.56,9.48,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
---

## Display France

<div id="vis"></div>

<script type="text/javascript">
  var yourVlSpec = {
    $schema: "https://vega.github.io/schema/vega-lite/v5.json",
    width: 400,
    height: 300,
    layer: [
      {
        data: {
          url: "https://mjlobo.github.io/teaching/eivp/departementswithid.json",
          format: {
            type: "topojson",
            feature: "departements"
          }
        },
        projection: {
          type: "mercator"
        },
        mark: {
          type: "geoshape",
          fill: "lightgray",
          stroke: "white"
        }
      }
    ]
  };
  vegaEmbed('#vis', yourVlSpec);
</script>


</textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
